var currentIndex=0,carouselInt=[],timeouts=[];function init(){generateIndex(),generateCarousels(),generateImgPaths(),createBtnEvents(),setTimeout((function(){$("#app").fadeIn(1e3),buildMenu(),changeSlideNum(startingSlide)}),1)}function updateSize(){$("iframe.youtube-video").each((function(){let newH=$(this).width()/(16/9);$(this).css({height:newH}).attr("height",newH)}))}function generateIndex(){$(".slides-div .slide").each((function(i){$(this).addClass("index_"+(i+1)).attr("data-index",i+1)})),$(".slides-div section").each((function(i){$(this).attr("id","section"+i).find(".slide").each((function(j){$(this).attr("id","slide"+i+"_"+(j+1))}))})),$(".click-reveal").each((function(i){let n=i+1;$(this).addClass("reveal"+n).find(".interactive-box").attr("data-target",".reveal"+n+" .collapsed").addClass("enabled")}))}function createBtnEvents(){$(".open-menu").on("click",(function(){openMenu(),setTimeout((function(){$(".menu-slide").width()==$(window).width()&&$(".menu-slide .close").animate({opacity:"1"},200)}),1100)})),$(".begin-btn").on("click",(function(){changePosition(),setTimeout((function(){$(".menu-slide").width()==$(window).width()&&$(".menu-slide .close").animate({opacity:"1"},200)}),1e3)})),$(".menu-slide .close").on("click",(function(){$(".menu-slide .close").animate({opacity:"0"},100),closeMenu()})),$(".slides-nav .btn-previous").on("click",(function(e){e.preventDefault(),prevSlide()})),$(".slides-nav .btn-next").on("click",(function(e){e.preventDefault(),nextSlide()})),$(".click-reveal .interactive-box").on("click",(function(){const $this=$(this),$target=$($this.attr("data-target"));$(".click-reveal.one-reveal").addClass("enabled collapsed").find(".reveal-content").addClass("collapsed"),$(".click-reveal.one-reveal .icon").removeClass("icon-active").html('<i class="fas fa-plus-circle"></i>'),$this.removeClass("enabled collapsed").find(".icon").addClass("icon-active").html('<i class="fas fa-arrow-circle-right"></i>'),$target.removeClass("collapsed")})),$(".close-btn").on("click",(function(){const $this=$(this);$($this.attr("data-target"));$(".click-reveal.one-reveal").addClass("enabled collapsed").find(".reveal-content").addClass("collapsed"),$(".click-reveal.one-reveal .icon").removeClass("icon-active").html('<i class="fas fa-plus-circle"></i>')})),$(".btn-reveal").on("click",(function(){const $this=$(this),$target1=$(".reveals1 "+$this.attr("data-target")),$target2=$(".reveals2 "+$this.attr("data-target"));$this.removeClass("enabled collapsed").addClass("disabled"),$target1.removeClass("collapsed"),setTimeout((function(){$target2.removeClass("collapsed")}),1e3)})),$(".open-link__btn").on("click",(function(){const url=$(this).attr("data-url");window.open(url,"_blank")})),$(".btn-play, .open-media__btn").on("click",(function(e){e.preventDefault();const $this=$(this);let url=$this.attr("href");url||(url=$this.attr("data-url")),openMedia(url)})),$(".popup-div").on("click",(function(e){e.stopPropagation(),closePopup()})),document.addEventListener("keyup",(function(e){27==e.keyCode&&closePopup()}))}function generateCarousels(){$(".carousel").each((function(i){let $this=$(this),$items=$this.find(".carousel-item"),carouselN=i+1,loopCycle=$this.attr("data-cycle"),output='<div class="indicators" data-carousel="'+carouselN+'"><button class="carousel-nav__btn carousel-prev__btn" aria-label="Previous item in the carousel."><i class="fas fa-chevron-left"></i></button>';$items.each((function(j){let n=j+1;$(this).addClass("item"+n).attr("data-num",n).attr("tabindex",0),n>1?$(this).addClass("exit-left"):$(this).addClass("active");let activeClass="";$(this).hasClass("active")&&(activeClass=" active"),output+='<div class="indicator-item'+activeClass+" item"+n+'" data-num="'+n+'" tabindex="0" aria-label="Carousel item '+n+'."></div>'})),output+='<button class="carousel-nav__btn carousel-next__btn" aria-label="Next item in the carousel."><i class="fas fa-chevron-right"></i></button></div>',$this.addClass("carousel"+carouselN).attr("data-carousel-num",carouselN).append(output),carouselInt[carouselN]=loopCycle?setInterval((function(){carouselCycle($this)}),loopCycle):setInterval((function(){carouselSize($this)}),5e3)})),$(".carousel .indicator-item").on("click",(function(){let $this=$(this),itemN=$this.attr("data-num"),carouselN=$this.parent().attr("data-carousel"),$carousel=$(".carousel"+carouselN);carouselGoTo($carousel,itemN),$carousel.find(".carousel-item.active").focus()})),$(".carousel .carousel-prev__btn").on("click",(function(){navCarousel($(this),!1)})),$(".carousel .carousel-next__btn").on("click",(function(){navCarousel($(this),!0)}))}function navCarousel($btn,goToNext){let carouselN=$btn.parent().attr("data-carousel"),$carousel=$(".carousel"+carouselN),itemN=parseInt($carousel.attr("data-active-item"),10);goToNext?itemN++:itemN--,(itemN<1||itemN>$carousel.find(".carousel-item").length)&&(itemN=1),carouselGoTo($carousel,itemN),$carousel.find(".carousel-item.active").focus()}function carouselGoTo($carousel,goto){$carousel.attr("data-active-item",goto-1);let carouselN=$carousel.attr("data-carousel-num"),loopCycle=$carousel.attr("data-cycle");loopCycle?(clearInterval(carouselInt[carouselN]),carouselInt[carouselN]=setInterval((function(){carouselCycle($carousel)}),loopCycle)):(clearInterval(carouselInt[carouselN]),carouselInt[carouselN]=setInterval((function(){carouselSize($carousel)}),5e3)),carouselCycle($carousel,!0)}function carouselCycle($carousel,forceCycle){if(!$carousel[0].matches(":hover")||forceCycle){let current=parseInt($carousel.attr("data-active-item"),10),total=$carousel.find(".carousel-item").length;current++,current>total&&(current=1),updateCarousel($carousel,current)}}function updateCarousel($carousel,current){current||(current=$carousel.attr("data-active-item")),$carousel.find(".carousel-item").removeClass("exit-left"),setTimeout((()=>{$carousel.find(".carousel-item.active").addClass("exit-left"),$carousel.attr("data-active-item",current),setTimeout((()=>{$carousel.find(".carousel-item, .indicator-item").removeClass("active"),setTimeout((()=>{$carousel.find(".item"+current).addClass("active").removeClass("exit-left")}),10)}),10)}),10),carouselSize($carousel)}function carouselSize($carousel){let maxHeight=0;parseInt($(window).width(),10)>560?$carousel.find(".carousel-item div").each((function(){let height=parseInt($(this).height(),10);height>maxHeight&&(maxHeight=height)})):$carousel.find(".carousel-item").each((function(){let totalHeight=0;$(this).find(".wrap-img, .wrap-txt, .wrap-video").each((function(){totalHeight+=parseInt($(this).height(),10)})),totalHeight>maxHeight&&(maxHeight=totalHeight)})),$carousel.find(".items-container, .carousel-item").css({"min-height":maxHeight})}function generateImgPaths(){$("#app img").each((function(){let srcStr=$(this).attr("src");srcStr.indexOf("http")<=-1&&$(this).attr("src",rootPath+srcStr)})),$("#app .bg-img").each((function(){let urlPart=$(this).attr("style").split("url(")[1].split(")");urlPart[0].replace("'",""),urlPart[0].replace('"',""),urlPart[0].indexOf("http")<=-1&&$(this).css({"background-image":"url("+rootPath+urlPart[0]+")"})}))}function buildMenu(){let output="";$.each(menuItems,(function(i,val){output+='<a href="" class="menu-item" data-section="'+(i+1)+'"><div class="bg-div" style="background-image: url('+rootPath+menuImgsPath+val.bg+'); background-size:cover; background-position: center center;">  <div class="overlay"></div>  <div class="shadow"></div></div><div class="item-div">  <div class="item-text">'+val.title+"</div></div></a>"})),$(".menu-div").html(output),setMenuItemsSize(),setMenuEvents()}function setMenuEvents(){let $items=$(".menu-div .menu-item");$items.hover((function(){$(this).addClass("hovered"),$(".menu-div").addClass("hovered"),$(this).find(".item-text").prepend(actionLabel),setMenuItemsSize()}),(function(){$(this).removeClass("hovered"),$(".menu-div").removeClass("hovered"),$(this).find(".action-label").remove(),setMenuItemsSize()})),$items.on("click",(function(e){$(".menu-slide .close").animate({opacity:"0"},"fast"),e.preventDefault(),changeSection($(this).attr("data-section"))}))}function setMenuItemsSize(){let $menuDiv=$(".menu-div"),$items=$menuDiv.find(".menu-item"),totalN=$items.length,widthVar=1/totalN*100,selectedW=1.5*widthVar,narrowW=(100-selectedW)/(totalN-1),w=widthVar;$items.each((function(index){let $this=$(this);$menuDiv.hasClass("hovered")&&(w=$this.hasClass("hovered")?selectedW:narrowW),$(window).width()<767?$this.css({width:"100%"}):$this.css({width:w+"%"})}))}function openMenu(){$(".menu-slide").show().animate({width:"100%"},900)}function changePosition(){$("#app").addClass("postion-element")}function closeMenu(){$(".menu-slide, menu-slide .close").animate({width:"0%"},900,(function(){$(".menu-slide").hide()}))}function changeSection(section){changeSlide("#slide"+section+"_1")}function changeSlide(slide,dir){clearTimeouts();let $this=$(slide),$oldSlide=$(".currentSlide").addClass("oldSlide").removeClass("currentSlide"),initialLeft="100%",previousPos="-100%";"prev"===dir&&(initialLeft="-100%",previousPos="100%"),$oldSlide.length>0&&$oldSlide.animate({left:previousPos},1e3,(function(){$oldSlide.removeAttr("style").removeClass("oldSlide")})),$this.removeAttr("style"),setTimeout((function(){$this.show().addClass("currentSlide").css({left:initialLeft})}),1),setTimeout((function(){$this.animate({left:"0%"},1e3)}),2),(currentIndex=parseInt($this.attr("data-index"),10))>=$(".slide").length?$(".slides-nav .btn-next").hide():$(".slides-nav .btn-next").show(),$this.attr("id")==$oldSlide.attr("id")&&setTimeout((function(){$this.stop(!0,!0).show(),$this.animate({left:"0%"},1e3)}),10),startAnimations(),setTimeout((()=>{$this.find(".carousel").each((function(i){carouselGoTo($(this),1)}))}),900),closeMenu(),updateSize()}function changeSlideNum(i,dir){changeSlide(".slide.index_"+(currentIndex=i),dir)}function prevSlide(){changeSlideNum(--currentIndex,"prev")}function nextSlide(){changeSlideNum(++currentIndex)}function startAnimations(){$(".slide.index_"+currentIndex+" .animate").each((function(){var $element=$(this),delay=$element.attr("data-delay"),duration=$element.attr("data-duration"),direction=$element.attr("data-direction"),distance=$element.attr("data-distance"),animateOut=$element.attr("data-animate-out"),easing=$element.attr("data-easing"),transX=0,transY=0;void 0===distance&&(distance=0),"right"===direction?transX="-"+distance:"left"===direction?transX=distance:"up"===direction?transY=distance:"down"===direction&&(transY="-"+distance),$element.show();var defaultStyle=$element.attr("style");void 0===defaultStyle&&(defaultStyle="");var savedStyle=$element.attr("data-style");void 0===savedStyle?$element.attr("data-style",defaultStyle):defaultStyle=savedStyle,void 0===duration&&(duration="500"),void 0===easing&&(easing="ease-out");var initialPos={transform:"translate("+transX+"px,"+transY+"px)",transition:"all "+duration+"ms "+easing,opacity:0};$element.css(initialPos),timeouts.push(setTimeout((function(){$element.show()}),delay-500)),timeouts.push(setTimeout((function(){$element.attr("style",defaultStyle),$element.removeAttr("data-style"),$element.css({transition:"all "+duration+"ms "+easing}),void 0!==animateOut&&timeouts.push(setTimeout((function(){$element.css(initialPos),$element.attr("data-style",defaultStyle),timeouts.push(setTimeout((function(){$element.attr("style",defaultStyle),$element.removeAttr("data-style"),$element.hide()}),500))}),animateOut)),updateSize()}),delay))}))}function openMedia(url){const embed='<iframe width="900" height="506" src="'+url+'" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>';$(".popup-box-div .popup-content-div").html(embed),$(".popup-div").fadeIn(300)}function closePopup(){$(".popup-div").fadeOut(300,(()=>{$(".popup-box-div .popup-content-div").empty()}))}function clearTimeouts(){for(i=0;i<timeouts.length;i++)clearTimeout(timeouts[i]);timeouts=[]}function clearIntervals(){for(i=0;i<carouselInt.length;i++)clearInterval(carouselInt[i]);carouselInt=[]}!function($){$.fn.goTo=function(){return $("html, body").animate({scrollTop:$(this).offset().top+"px"}),this}}(jQuery),$(document).ready((function(){$(window).on("resize",(function(){updateSize()})),setTimeout((function(){init()}),1)}));
//# sourceURL=https://cdn2.hubspot.net/hub/511436/hub_generated/template_assets/52014569579/1631707021422/Interactives/CIPD_Avado_Way/lib/js/cipd-think-bigger-app.js